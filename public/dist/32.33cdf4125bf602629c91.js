(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{JJAs:function(t,e,a){"use strict";var r;a.r(e);var i={props:{uri:{type:String,required:!0},headers:{type:Array,required:!0},noDataText:{type:String,default:"No data found."},noResultsText:{type:String,default:"No data found."},searchText:{type:String,default:"Search"},searchIcon:{type:String,default:"mdi-magnify"},refreshText:{type:String,default:"Reload"},refreshIcon:{type:String,default:"mdi-sync"},addNewText:{type:String,default:"Add New"},addNewIcon:{type:String,default:"mdi-plus"},addNewUri:{type:String,default:""},addNewColor:{type:String,default:"info"},itemsPerPageAllText:{type:String,default:"All"},itemsPerPageText:{type:String,default:"Rows per page:"},pageTextLocale:{type:String,default:"en"},editUri:{type:String,default:""},editUriParameter:{type:String,default:""},editText:{type:String,default:"Edit"},editIcon:{type:String,default:"mdi-pencil"},editColor:{type:String,default:"primary"},deleteUri:{type:String,default:""},deleteUriParameter:{type:String,default:""},deleteText:{type:String,default:"Delete"},deleteIcon:{type:String,default:"mdi-trash-can-outline"},deleteColor:{type:String,default:"red lighten-1"},deleteConfirmationText:{type:String,default:"Are you sure want to delete this data ?"},deleteCancelText:{type:String,default:"Cancel"}},data:function(){return{promptDelete:!1,search:"",totalData:0,fromData:0,toData:0,tableItems:[],loading:!0,options:{},tableSortBy:[],tableSortDesc:[],selected:null,deleteLoader:!1,tableAlert:!1,tableAlertText:"",tableAlertState:"info"}},watch:{options:{handler:function(){this.dataHandler()},deep:!0}},mounted:function(){this.dataHandler()},computed:{query:function(){var t=this,e=[];return _.forEach(this.options.sortBy,(function(a,r){e.push({0:a,1:t.options.sortDesc[r]})})),"?page="+this.options.page+"&search="+this.search+"&paginate="+this.options.itemsPerPage+"&sort="+JSON.stringify(e)}},methods:{dataHandler:function(){setTimeout(this.getData(),2e3)},getData:function(){var t=this;this.loading=!0,r&&r.cancel(),r=axios.CancelToken.source(),axios.get(this.uri+this.query,{cancelToken:r.token}).then((function(e){t.setData(e.data.data.data),t.totalData=e.data.data.total,t.fromData=e.data.data.from,t.toData=e.data.data.to,t.loading=!1})).catch((function(e){t.loading=!1}))},setData:function(t){var e=[];_.forEach(t,(function(t,a){t.table_index=parseInt(a)+1,e.push(t)})),this.tableItems=e},promptDeleteItem:function(t){this.promptDelete=!0,this.selected=t},deleteItem:function(){var t=this;this.deleteLoader=!0,axios.delete(this.base_url()+this.ziggy(this.deleteUri,[this.selected[this.deleteUriParameter]]).url()).then((function(e){e.data.success?(t.tableAlert=!0,t.tableAlertState="success",t.tableAlertText=e.data.message,t.dataHandler()):(t.tableAlert=!0,t.tableAlertState="error",t.tableAlertText=e.data.message),t.deleteLoader=!1,t.promptDelete=!1})).catch((function(e){t.tableAlert=!0,t.tableAlertState="error",t.tableAlertText="Oops, something went wrong. Please try again later.",t.deleteLoader=!1,t.promptDelete=!1}))}}},l=a("KHd+"),n=Object(l.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports}}]);