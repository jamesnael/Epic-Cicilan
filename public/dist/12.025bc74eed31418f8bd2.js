(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7nmR":function(t,e,n){"use strict";n.r(e);var a=n("e7F3"),i=n("TJPC"),r=n("enAU");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("wd/R");Object(a.c)("required",i.g),Object(a.c)("email",i.b),Object(a.c)("max",i.d),Object(a.c)("min",i.e),Object(a.c)("numeric",i.f),Object(a.c)("between",i.a),Object(a.d)("id",r);var l={components:{ValidationObserver:a.a,ValidationProvider:a.b},props:{uri:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""},filter_client:{type:Array,default:function(){return[]}},filter_sales:{type:Array,default:function(){return[]}}},computed:{totalPaid:function(){var t=0;return this.unit_installments.forEach((function(e){t+=e.total_paid})),t},totalFine:function(){var t=0;return this.unit_installments.forEach((function(e){t+=e.fine})),t},totalRemainingInstallment:function(){var t=0;return this.unit_installments.forEach((function(e){t+=e.count_installment})),t-this.totalPaid}},data:function(){var t,e;return o(e={unit_installments:[],field_state:!1,formAlert:!1,formAlertText:"",formAlertState:"info",modal:!1,idx:!1,menu:!1,datepicker:!1},"unit_installments",[]),o(e,"form_data",(o(t={unit_type:"",client_name:"",unit_number:"",surface_area:"",building_area:"",utj:"",electrical_power:"",points:"",closing_fee:"",total_amount:"",ppn:"",payment_type:"",payment_method:"",dp_amount:"",first_payment:"",principal:"",installment:"",installment_time:"",due_date:"",amount:"",credits:"",payment_method_utj:"",bank_name:"",card_number:"",point:"",client_id:""},"client_name",""),o(t,"client_email",""),o(t,"client_phone_number",""),o(t,"client_mobile_number",""),o(t,"client_addres",""),o(t,"sales_id",""),o(t,"sales_name",""),o(t,"agency_name",""),o(t,"main_coordinator",""),o(t,"regional_coordinator",""),o(t,"total_pembayaran",0),o(t,"sisa_tunggakan",0),o(t,"total_denda",0),o(t,"prosentase_pembayaran",0),t)),e},mounted:function(){this.setData()},methods:{setData:function(){var t=this;this.dataUri&&(this.field_state=!0,axios.get(this.dataUri).then((function(e){if(e.data.success){var n=e.data.data;console.log(n);var a=[];t.form_data={unit_type:n.unit.unit_type,unit_block:n.unit.unit_block,unit_number:n.unit.unit_number,surface_area:n.unit.surface_area,building_area:n.unit.building_area,utj:t.moneyFormat(n.unit.utj),electrical_power:n.unit.electrical_power,points:n.unit.points,closing_fee:t.moneyFormat(n.unit.closing_fee),total_amount:t.moneyFormat(n.total_amount),ppn:t.moneyFormat(n.ppn),payment_type:n.payment_type,payment_method:n.payment_method,dp_amount:t.moneyFormat(n.dp_amount),first_payment:t.moneyFormat(n.first_payment),principal:t.moneyFormat(n.principal),installment:t.moneyFormat(n.installment),installment_time:n.installment_time,due_date:t.reformatDateTime(n.due_date,"YYYY-MM-DD","DD MMMM YYYY"),credits:t.moneyFormat(n.credits),amount:t.moneyFormat(n.amount),payment_method_utj:n.payment_method_utj,bank_name:n.bank_name,card_number:n.card_number,point:n.point,client_id:n.client_id,client_name:n.client.client_name,client_number:n.client.client_number,client_email:n.client.client_email,client_phone_number:n.client.client_phone_number,client_mobile_number:n.client.client_mobile_number,client_address:n.client.client_address,sales_id:n.sales_id,sales_name:n.sales.user.full_name,agency_name:n.sales.agency?n.sales.agency.agency_name:"",main_coordinator:n.sales.main_coordinator?n.sales.main_coordinator.full_name:"",regional_coordinator:n.sales.regional_coordinator?n.sales.regional_coordinator.full_name:"",total_pembayaran:n.total_pembayaran,sisa_tunggakan:n.sisa_tunggakan,total_denda:n.total_denda,prosentase_pembayaran:n.prosentase_pembayaran},_.forEach(n.payments,(function(e,n){a.push({id:e.id,payment_date:t.reformatDateTime(e.payment_date,"YYYY-MM-DD","DD MMMM YYYY"),payment:e.payment,fine:e.fine,due_date:t.reformatDateTime(e.due_date,"YYYY-MM-DD","DD MMMM YYYY"),installment:t.moneyFormat(e.installment),count_installment:e.installment,credit:t.moneyFormat(e.credit),total_paid:e.total_paid})})),t.unit_installments=a,t.field_state=!1}else t.formAlert=!0,t.formAlertState="error",t.formAlertText=e.data.message,t.field_state=!1})).catch((function(e){t.tableAlert=!0,t.tableAlertState="error",t.tableAlertText="Oops, something went wrong. Please try again later.",t.field_state=!1})))},moneyFormat:function(t){var e=isFinite(+t)?+t:0,n=isFinite(0)?Math.abs(0):0,a=(n?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(e,n):Math.round(e)).toString().split(".");return a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,".")),(a[1]||"").length<n&&(a[1]=a[1]||"",a[1]+=new Array(n-a[1].length+1).join("0")),a.join(",")}}},m=n("KHd+"),s=Object(m.a)(l,void 0,void 0,!1,null,null,null);e.default=s.exports}}]);