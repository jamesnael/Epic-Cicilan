(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{eMf8:function(t,e,a){"use strict";a.r(e);var n=a("e7F3"),i=a("TJPC"),r=a("enAU");Object(n.c)("required",i.g),Object(n.c)("email",i.b),Object(n.c)("max",i.d),Object(n.c)("numeric",i.f),Object(n.c)("between",i.a),Object(n.d)("id",r);var o={components:{ValidationObserver:n.a,ValidationProvider:n.b},props:{uri:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""},pph21:{type:String,default:""}},data:function(){return{field_state:!1,formAlert:!1,formAlertText:"",formAlertState:"info",datepicker:!1,menu4:!1,menu3:!1,menu2:!1,form_data:{client_name:"",unit_type:""}}},computed:{commission_1:function(){var t=_.toString(this.form_data.unit_price).split(".").join(""),e=parseInt(t)*parseInt(this.form_data.agency_commission)/100,a=e*parseInt(this.pph21)/100;return(e-e*parseInt(this.form_data.pph_final)/100-a).toFixed()},commission_2:function(){var t=_.toString(this.form_data.unit_price).split(".").join(""),e=parseInt(t)*parseInt(this.form_data.agency_commission)/100,a=e*parseInt(this.pph21)/100;return(e-e*parseInt(this.form_data.pph_final)/100-a).toFixed()}},mounted:function(){this.setData()},methods:{setData:function(){var t=this;this.dataUri&&(this.field_state=!0,axios.get(this.dataUri).then((function(e){if(e.data.success){var a=e.data.data;console.log(a),t.form_data={client_name:a.client.client_name,unit_type:a.unit.unit_type,unit_number:a.unit.unit_number+" / "+a.unit.unit_block,sales_name:a.sales.user.full_name,unit_price:a.total_amount,payment_method:a.payment_method,agency_name:a.sales.agency.agency_name,agency_commission:a.sales.agency.agency_commission,closing_fee:a.unit.closing_fee,korut_name:a.sales.main_coordinator.full_name,korwil_name:a.sales.regional_coordinator.full_name,pph_final:a.sales.agency.pph_final},t.field_state=!1}else t.formAlert=!0,t.formAlertState="error",t.formAlertText=e.data.message,t.field_state=!1})).catch((function(e){t.tableAlert=!0,t.tableAlertState="error",t.tableAlertText="Oops, something went wrong. Please try again later.",t.field_state=!1})))},submit:function(){var t=this;this.$refs.observer.validate().then((function(e){e&&t.postFormData()}))},clear:function(){this.form_data={sales_commission:"",agency_commission:"",regional_coordinator_commission:"",main_coordinator_commission:""},this.$refs.observer.reset()},moneyFormat:function(t){var e=isFinite(+t)?+t:0,a=isFinite(0)?Math.abs(0):0,n=(a?function(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}(e,a):Math.round(e)).toString().split(".");return n[0].length>3&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,".")),(n[1]||"").length<a&&(n[1]=n[1]||"",n[1]+=new Array(a-n[1].length+1).join("0")),n.join(",")},postFormData:function(){var t=this,e=new FormData(this.$refs["post-form"]);this.dataUri&&e.append("_method","put"),this.field_state=!0,axios.post(this.uri,e).then((function(e){e.data.success?(t.formAlert=!0,t.formAlertState="success",t.formAlertText=e.data.message,setTimeout((function(){t.goto(t.redirectUri)}),6e3)):(t.formAlert=!0,t.formAlertState="error",t.formAlertText=e.data.message,t.field_state=!1)})).catch((function(e){t.tableAlert=!0,t.tableAlertState="error",t.tableAlertText="Oops, something went wrong. Please try again later.",t.field_state=!1}))}}},s=a("KHd+"),l=Object(s.a)(o,void 0,void 0,!1,null,null,null);e.default=l.exports}}]);