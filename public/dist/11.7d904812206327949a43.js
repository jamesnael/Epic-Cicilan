(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{b3kO:function(a,t,e){"use strict";e.r(t);var n=e("e7F3"),i=e("TJPC"),r=e("enAU");e("wd/R");Object(n.c)("required",i.h),Object(n.c)("email",i.c),Object(n.c)("max",i.e),Object(n.c)("min",i.f),Object(n.c)("numeric",i.g),Object(n.c)("between",i.a),Object(n.d)("id",r);var o={components:{ValidationObserver:n.a,ValidationProvider:n.b},props:{slug:{type:String,required:!0},uri:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""}},data:function(){return{field_state:!1,formAlert:!1,formAlertText:"",formAlertState:"info",date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,menu3:!1,menu4:!1,time:null,datepicker:!1,items_approval:["Disetujui","Pending"],form_data:{booking_id:"",ajb_date:"",ajb_time:"",location:"",address:"",dokumen_awal:"",unit_number:"",unit_price:"",sales_name:"",agency_name:"",korwil:"",korut:"",client_mobile_number:"",approval_client_status:"",approval_developer_status:"",approval_notaris_status:"",ajb_sign_date:"",ajb_doc_sign_file_name:"",ajb_number:"",upload_date:"",notaris_name:""}}},computed:{},mounted:function(){this.setData()},methods:{setData:function(){var a=this;this.dataUri&&(this.field_state=!0,axios.get(this.dataUri).then((function(t){if(t.data.success){var e=t.data.data;a.form_data={booking_id:e.id,client_name:e.client.client_name,client_mobile_number:e.client.client_mobile_number,unit_number:e.unit.unit_number+"/"+e.unit.unit_block,unit_price:a.moneyFormat(e.total_amount),unit_type:e.unit.unit_type+" "+e.unit.unit_number+"/"+e.unit.unit_block,sales_name:e.sales.user.full_name,korwil:e.sales?e.sales.regional_coordinator.full_name:"",korut:e.sales?e.sales.main_coordinator.full_name:"",agency_name:e.sales.agency?e.sales.agency.agency_name:"",ajb_date:e.ajb?e.ajb.ajb_date:"",ajb_time:e.ajb?e.ajb.ajb_time:"",location:e.ajb?e.ajb.location:"",address:e.ajb?e.ajb.address:"",dokumen_awal_ajb:e.ajb?e.ajb.ajb_doc_file_name:"",url_dokumen_awal:e.ajb?e.ajb.url_ajb_doc_file_name:"",approval_client_status:e.ajb?e.ajb.approval_client_status:"",approval_developer_status:e.ajb?e.ajb.approval_developer_status:"",approval_notaris_status:e.ajb?e.ajb.approval_notaris_status:"",ajb_sign_date:e.ajb?e.ajb.ajb_sign_date:"",dokumen_akhir_ajb:e.ajb?e.ajb.ajb_doc_sign_file_name:"",url_dokumen_akhir:e.ajb?e.ajb.url_ajb_doc_sign_file_name:"",ajb_number:e.ajb?e.ajb.ajb_number:"",upload_date:e.ajb?e.ajb.upload_date:"",notaris_name:e.ajb?e.ajb.notaris_name:""},a.field_state=!1}else a.formAlert=!0,a.formAlertState="error",a.formAlertText=t.data.message,a.field_state=!1})).catch((function(t){a.tableAlert=!0,a.tableAlertState="error",a.tableAlertText="Oops, something went wrong. Please try again later.",a.field_state=!1})))},submit:function(){var a=this;this.$refs.observer.validate().then((function(t){t&&a.postFormData()}))},postFormData:function(){var a=this,t=new FormData(this.$refs["post-form"]);this.dataUri&&(t.append("_method","put"),t.append("booking_id",this.form_data.booking_id),t.append("ajb_date",this.form_data.ajb_date),t.append("ajb_time",this.form_data.ajb_time),t.append("upload_date",this.form_data.upload_date)),this.field_state=!0,axios.post(this.uri,t).then((function(t){t.data.success?(a.formAlert=!0,a.formAlertState="success",a.formAlertText=t.data.message,setTimeout((function(){a.goto(a.redirectUri)}),6e3)):(a.formAlert=!0,a.formAlertState="error",a.formAlertText=t.data.message,a.field_state=!1)})).catch((function(t){a.tableAlert=!0,a.tableAlertState="error",a.tableAlertText="Oops, something went wrong. Please try again later.",a.field_state=!1}))},moneyFormat:function(a){var t=isFinite(+a)?+a:0,e=isFinite(0)?Math.abs(0):0,n=(e?function(a,t){var e=Math.pow(10,t);return Math.round(a*e)/e}(t,e):Math.round(t)).toString().split(".");return n[0].length>3&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,".")),(n[1]||"").length<e&&(n[1]=n[1]||"",n[1]+=new Array(e-n[1].length+1).join("0")),n.join(",")}}},s=e("KHd+"),l=Object(s.a)(o,void 0,void 0,!1,null,null,null);t.default=l.exports}}]);