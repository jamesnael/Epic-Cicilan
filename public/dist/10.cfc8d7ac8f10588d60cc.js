(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{b3kO:function(e,t,a){"use strict";a.r(t);var r=a("e7F3"),n=a("TJPC"),i=a("enAU");a("wd/R");Object(r.c)("required",n.h),Object(r.c)("email",n.c),Object(r.c)("max",n.e),Object(r.c)("min",n.f),Object(r.c)("numeric",n.g),Object(r.c)("between",n.a),Object(r.d)("id",i);var o={components:{ValidationObserver:r.a,ValidationProvider:r.b},props:{slug:{type:String,required:!0},uri:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""}},data:function(){return{field_state:!1,formAlert:!1,formAlertText:"",formAlertState:"info",date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,menu3:!1,menu4:!1,time:null,datepicker:!1,items_approval:["Approved","Pending"],form_data:{booking_id:"",ajb_date:"",ajb_time:"",location:"",address:"",dokumen_awal:"",unit_number:"",unit_price:"",sales_name:"",agency_name:"",korwil:"",korut:"",client_mobile_number:"",approval_client_status:"",approval_developer_status:"",approval_notaris_status:"",ajb_sign_date:"",ajb_doc_sign_file_name:""}}},computed:{},mounted:function(){this.setData()},methods:{setData:function(){var e=this;this.dataUri&&(this.field_state=!0,axios.get(this.dataUri).then((function(t){if(t.data.success){var a=t.data.data;e.form_data={booking_id:a.id,client_name:a.client.client_name,client_mobile_number:a.client.client_mobile_number,unit_number:a.unit.unit_number+"/"+a.unit.unit_block,unit_price:e.moneyFormat(a.total_amount),sales_name:a.sales.user.full_name,korwil:a.sales?a.sales.regional_coordinator.full_name:"",korut:a.sales?a.sales.main_coordinator.full_name:"",agency_name:a.sales.agency?a.sales.agency.agency_name:"",ajb_date:a.ajb?a.ajb.ajb_date:"",ajb_time:a.ajb?a.ajb.ajb_time:"",location:a.ajb?a.ajb.location:"",address:a.ajb?a.ajb.address:"",dokumen_awal_ajb:a.ajb?a.ajb.ajb_doc_file_name:"",url_dokumen_awal:a.ajb?a.ajb.url_ajb_doc_file_name:"",approval_client_status:a.ajb?a.ajb.approval_client_status:"",approval_developer_status:a.ajb?a.ajb.approval_developer_status:"",approval_notaris_status:a.ajb?a.ajb.approval_notaris_status:"",ajb_sign_date:a.ajb?a.ajb.ajb_sign_date:"",dokumen_akhir_ajb:a.ajb?a.ajb.ajb_doc_sign_file_name:"",url_dokumen_akhir:a.ajb?a.ajb.url_ajb_doc_sign_file_name:""},e.field_state=!1}else e.formAlert=!0,e.formAlertState="error",e.formAlertText=t.data.message,e.field_state=!1})).catch((function(t){e.tableAlert=!0,e.tableAlertState="error",e.tableAlertText="Oops, something went wrong. Please try again later.",e.field_state=!1})))},submit:function(){var e=this;this.$refs.observer.validate().then((function(t){t&&e.postFormData()}))},postFormData:function(){var e=this,t=new FormData(this.$refs["post-form"]);this.dataUri&&(t.append("_method","put"),t.append("booking_id",this.form_data.booking_id),t.append("ajb_date",this.form_data.ajb_date),t.append("ajb_time",this.form_data.ajb_time)),this.field_state=!0,axios.post(this.uri,t).then((function(t){t.data.success?(e.formAlert=!0,e.formAlertState="success",e.formAlertText=t.data.message,setTimeout((function(){e.goto(e.redirectUri)}),6e3)):(e.formAlert=!0,e.formAlertState="error",e.formAlertText=t.data.message,e.field_state=!1)})).catch((function(t){e.tableAlert=!0,e.tableAlertState="error",e.tableAlertText="Oops, something went wrong. Please try again later.",e.field_state=!1}))},moneyFormat:function(e){var t=isFinite(+e)?+e:0,a=isFinite(0)?Math.abs(0):0,r=(a?function(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a}(t,a):Math.round(t)).toString().split(".");return r[0].length>3&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,".")),(r[1]||"").length<a&&(r[1]=r[1]||"",r[1]+=new Array(a-r[1].length+1).join("0")),r.join(",")}}},s=a("KHd+"),l=Object(s.a)(o,void 0,void 0,!1,null,null,null);t.default=l.exports}}]);