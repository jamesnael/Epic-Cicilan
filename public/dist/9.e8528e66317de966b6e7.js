(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{mq8b:function(e,t,a){"use strict";a.r(t);var n=a("e7F3"),i=a("TJPC"),r=a("enAU");function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object(n.c)("required",i.g),Object(n.c)("email",i.b),Object(n.c)("max",i.d),Object(n.c)("min",i.e),Object(n.c)("numeric",i.f),Object(n.c)("between",i.a),Object(n.d)("id",r);var l={components:{ValidationObserver:n.a,ValidationProvider:n.b},props:{uri:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""},filter_client:{type:Array,default:function(){return[]}},filter_sales:{type:Array,default:function(){return[]}}},data:function(){var e;return{field_state:!1,formAlert:!1,formAlertText:"",formAlertState:"info",date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,datepicker:!1,form_data:(e={unit_type:"",client_name:"",unit_number:"",surface_area:"",building_area:"",utj:"",electrical_power:"",points:"",closing_fee:"",total_amount:"",ppn:"",payment_type:"",payment_method:"",dp_amount:"",first_payment:"",principal:"",installment:"",installment_time:"",due_date:"",amount:"",credits:"",payment_method_utj:"",bank_name:"",card_number:"",point:"",client_id:""},o(e,"client_name",""),o(e,"client_email",""),o(e,"client_phone_number",""),o(e,"client_mobile_number",""),o(e,"client_addres",""),o(e,"sales_id",""),o(e,"sales_name",""),o(e,"agency_name",""),o(e,"main_coordinator",""),o(e,"regional_coordinator",""),e)}},mounted:function(){this.setData()},methods:{setData:function(){var e=this;this.dataUri&&(this.field_state=!0,axios.get(this.dataUri).then((function(t){if(t.data.success){var a=t.data.data;console.log(a),e.form_data={unit_type:a.unit.unit_type,unit_block:a.unit.unit_block,unit_number:a.unit.unit_number,surface_area:a.unit.surface_area,building_area:a.unit.building_area,utj:a.unit.utj,electrical_power:a.unit.electrical_power,points:a.unit.points,closing_fee:a.unit.closing_fee,total_amount:a.total_amount,ppn:a.ppn,payment_type:a.payment_type,payment_method:a.payment_method,dp_amount:a.dp_amount,first_payment:a.first_payment,principal:a.principal,installment:a.installment,installment_time:a.installment_time,due_date:a.due_date,credits:a.credits,amount:a.amount,payment_method_utj:a.payment_method_utj,bank_name:a.bank_name,card_number:a.card_number,point:a.point,client_id:a.client_id,client_name:a.client.client_name,client_number:a.client.client_number,client_email:a.client.client_email,client_phone_number:a.client.client_phone_number,client_mobile_number:a.client.client_mobile_number,client_address:a.client.client_address,sales_id:a.sales_id,sales_name:a.sales.user.full_name,agency_name:a.agency?a.agency.agency_name:"",main_coordinator:a.sales.main_coordinator?a.sales.main_coordinator.full_name:"",regional_coordinator:a.sales.regional_coordinator?a.sales.regional_coordinator.full_name:""},e.field_state=!1}else e.formAlert=!0,e.formAlertState="error",e.formAlertText=t.data.message,e.field_state=!1})).catch((function(t){e.tableAlert=!0,e.tableAlertState="error",e.tableAlertText="Oops, something went wrong. Please try again later.",e.field_state=!1})))},submit:function(){var e=this;this.$refs.observer.validate().then((function(t){t&&e.postFormData()}))},clear:function(){this.form_data={},this.$refs.observer.reset()},postFormData:function(){var e=this,t=new FormData(this.$refs["post-form"]);this.dataUri&&t.append("_method","put"),this.field_state=!0,axios.post(this.uri,t).then((function(t){t.data.success?(e.formAlert=!0,e.formAlertState="success",e.formAlertText=t.data.message,setTimeout((function(){e.goto(e.redirectUri)}),6e3)):(e.formAlert=!0,e.formAlertState="error",e.formAlertText=t.data.message,e.field_state=!1)})).catch((function(t){e.tableAlert=!0,e.tableAlertState="error",e.tableAlertText="Oops, something went wrong. Please try again later.",e.field_state=!1}))},setSelectedClient:function(){var e=this,t=_.find(this.filter_client,(function(t){return t.value==e.form_data.client_id}));console.log(t),_.isUndefined(t)?(this.form_data.client_number="",this.form_data.client_name="",this.form_data.client_phone_number="",this.form_data.client_mobile_number="",this.form_data.client_address="",this.form_data.client_email=""):(this.form_data.client_number=t.client_number,this.form_data.client_name=t.text,this.form_data.client_phone_number=t.client_phone_number,this.form_data.client_mobile_number=t.client_mobile_number,this.form_data.client_address=t.client_address,this.form_data.client_email=t.client_email)},setSelectedSales:function(){var e=this,t=_.find(this.filter_sales,(function(t){return t.value==e.form_data.sales_id}));console.log(t),_.isUndefined(t)?(this.form_data.sales_name="",this.form_data.agency_name="",this.form_data.main_coordinator="",this.form_data.regional_coordinator=""):(this.form_data.sales_name=t.text,this.form_data.agency_name=t.agency_name,this.form_data.main_coordinator=t.main_coordinator,this.form_data.regional_coordinator=t.regional_coordinator)}}},s=a("KHd+"),m=Object(s.a)(l,void 0,void 0,!1,null,null,null);t.default=m.exports}}]);